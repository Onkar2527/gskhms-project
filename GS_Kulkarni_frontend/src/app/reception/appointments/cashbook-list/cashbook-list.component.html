<!-- <section class="content">
    <div class="content-block">
        <div class="block-header">
            <h2>Cashbook</h2>
        </div>

<div class="p-4">
   
  
    <button mat-raised-button color="primary" (click)="openForm()">Add Entry</button>
  
    <mat-card class="mt-4">
      <mat-card-content>
        <p><strong>Total Income:</strong> ₹{{ totalIncome }}</p>
        <p><strong>Total Expense:</strong> ₹{{ totalExpense }}</p>
        <p><strong>Balance:</strong> ₹{{ totalIncome - totalExpense }}</p>
      </mat-card-content>
    </mat-card>
  
    <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 mt-4">
  
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let element">{{element.entry_date | date: 'dd-MM-yyyy'}}</td>
      </ng-container>
  
      <ng-container matColumnDef="time">
        <th mat-header-cell *matHeaderCellDef>Time</th>
        <td mat-cell *matCellDef="let element">{{element.entry_time}}</td>
      </ng-container>
  
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>Description</th>
        <td mat-cell *matCellDef="let element">{{element.description}}</td>
      </ng-container>
  
      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let element">
          <span [ngClass]="element.transaction_type === 'INCOME' ? 'text-green' : 'text-red'">
            {{element.transaction_type}}
          </span>
        </td>
      </ng-container>
  
      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Amount</th>
        <td mat-cell *matCellDef="let element">₹{{element.amount}}</td>
      </ng-container>
  
      <ng-container matColumnDef="mode">
        <th mat-header-cell *matHeaderCellDef>Mode</th>
        <td mat-cell *matCellDef="let element">{{element.payment_mode}}</td>
      </ng-container>
  
      <ng-container matColumnDef="reference">
        <th mat-header-cell *matHeaderCellDef>Reference</th>
        <td mat-cell *matCellDef="let element">{{element.reference_no}}</td>
      </ng-container>
  
      <ng-container matColumnDef="actions">
        <th mat-header-cell *matHeaderCellDef>Actions</th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button color="primary" (click)="openForm(element)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="deleteEntry(element.id!)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>
  
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  
    </table>
  </div>

</div>


</section>
   -->
<section class="content">
  <div class="content-block">
    <div class="block-header">
      <h2>Cashbook</h2>
    </div>

    <div class="p-4">
      <button mat-raised-button color="primary" (click)="openForm()">Add Entry</button>

      <mat-card class="mt-4">
        <mat-card-content>
          <p><strong>Total Income:</strong> ₹{{ totalIncome }}</p>
          <p><strong>Total Expense:</strong> ₹{{ totalExpense }}</p>
          <p><strong>Balance:</strong> ₹{{ totalIncome - totalExpense }}</p>
        </mat-card-content>
      </mat-card>

      <table mat-table [dataSource]="dataSource" class="mat-elevation-z8 mt-4">

       
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let element">{{element.entry_date | date: 'dd-MM-yyyy'}}</td>
        </ng-container>

        <ng-container matColumnDef="time">
          <th mat-header-cell *matHeaderCellDef>Time</th>
          <td mat-cell *matCellDef="let element">{{element.entry_time}}</td>
        </ng-container>

      
        <ng-container matColumnDef="description">
          <th mat-header-cell *matHeaderCellDef>Description</th>
          <td mat-cell *matCellDef="let element">{{ element.description }}</td>
        </ng-container>

       
        <ng-container matColumnDef="type">
          <th mat-header-cell *matHeaderCellDef>Type</th>
          <td mat-cell *matCellDef="let element">
            <span [ngClass]="element.transaction_type === 'INCOME' ? 'text-green' : 'text-red'">
              {{ element.transaction_type }}
            </span>
          </td>
        </ng-container>

        
        <ng-container matColumnDef="amount">
          <th mat-header-cell *matHeaderCellDef>Amount</th>
          <td mat-cell *matCellDef="let element">₹{{ element.amount }}</td>
        </ng-container>

        
        <ng-container matColumnDef="mode">
          <th mat-header-cell *matHeaderCellDef>Mode</th>
          <td mat-cell *matCellDef="let element">{{element.payment_mode}}</td>
        </ng-container>

        <ng-container matColumnDef="reference">
          <th mat-header-cell *matHeaderCellDef>Reference</th>
          <td mat-cell *matCellDef="let element">{{element.reference_no}}</td>
        </ng-container>

       
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let element">
            <button mat-icon-button color="primary" (click)="openForm(element)">
              <mat-icon>edit</mat-icon>
            </button>
            <button mat-icon-button color="warn" (click)="deleteEntry(element.id)">
              <mat-icon>delete</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>
  </div>
</section>
